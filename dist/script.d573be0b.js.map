{"version":3,"sources":["js/script.js"],"names":["pokeState","pokemon","_parentElement","document","querySelector","search","searchKey","pokemonDetails","getPokemon","name","fetch","pokeData","json","console","log","createPokemonObject","render","data","id","image","sprites","front_default","maintype","types","type","subtype","stats","map","obj","stat","base_stat","markup","_generateMarkup","insertAdjacentHTML","_generateMarkupDetail","join","evoImgs","addEvoImages","fetchPokemeonForms","addEventListener","e","preventDefault","value","card","target","closest","dataset","setTimeout","datapok","data2","evolution_chain","url","datapok2","evo1","chain","species","evo2","evolves_to","evo3","evos","getEvolutions","evoImage1","evoImage2","evoImage3","fetchingDataName","name1","name2","name3","Promise","all","getPokemonList"],"mappings":"AAAA,MAAMA,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAE;AADO,CAAlB;;AAIA,MAAMC,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAvB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;AACA,MAAME,SAAS,GAAGH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAlB;AACA,MAAMG,cAAc,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAvB,EACA;AAEA;;AAEA,MAAMI,UAAU,GAAG,gBAAgBC,IAAhB,EAAsB;AACvC,QAAMR,OAAO,GAAG,MAAMS,KAAK,CAAE,qCAAoCD,IAAK,EAA3C,CAA3B;AACA,QAAME,QAAQ,GAAG,MAAMV,OAAO,CAACW,IAAR,EAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEAX,EAAAA,SAAS,CAACC,OAAV,GAAoBc,mBAAmB,CAACJ,QAAD,CAAvC;AAEAK,EAAAA,MAAM,CAAChB,SAAS,CAACC,OAAX,CAAN;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,CATD;;AAWA,MAAMI,mBAAmB,GAAG,UAAUE,IAAV,EAAgB;AAC1C,QAAMhB,OAAO,GAAGgB,IAAhB;AACA,SAAO;AACLC,IAAAA,EAAE,EAAEjB,OAAO,CAACiB,EADP;AAELT,IAAAA,IAAI,EAAER,OAAO,CAACQ,IAFT;AAGLU,IAAAA,KAAK,EAAElB,OAAO,CAACmB,OAAR,CAAgBC,aAHlB;AAILC,IAAAA,QAAQ,EAAErB,OAAO,CAACsB,KAAR,CAAc,CAAd,EAAiBC,IAAjB,CAAsBf,IAJ3B;AAKLgB,IAAAA,OAAO,EAAExB,OAAO,CAACsB,KAAR,CAAc,CAAd,IAAmBtB,OAAO,CAACsB,KAAR,CAAc,CAAd,EAAiBC,IAAjB,CAAsBf,IAAzC,GAAgD,EALpD;AAMLiB,IAAAA,KAAK,EAAEzB,OAAO,CAACyB,KAAR,CAAcC,GAAd,CAAmBC,GAAD,IAAS;AAChC,UAAIC,IAAI,GAAG;AAAEpB,QAAAA,IAAI,EAAEmB,GAAG,CAACC,IAAJ,CAASpB,IAAjB;AAAuBoB,QAAAA,IAAI,EAAED,GAAG,CAACE;AAAjC,OAAX;AACA,aAAOD,IAAP;AACD,KAHM,CANF,CAUL;AACA;AACA;AACA;AACA;;AAdK,GAAP;AAgBD,CAlBD,EAoBA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMb,MAAM,GAAG,UAAUf,OAAV,EAAmB;AAChC,QAAM8B,MAAM,GAAGC,eAAe,CAAC/B,OAAD,CAA9B;;AACAC,EAAAA,cAAc,CAAC+B,kBAAf,CAAkC,YAAlC,EAAgDF,MAAhD;AACD,CAHD;;AAKA,MAAMC,eAAe,GAAG,UAAU/B,OAAV,EAAmB;AACzC,SAAQ;AACV,6BAA6BA,OAAO,CAACiB,EAAG;AACxC;AACA,SAASjB,OAAO,CAACkB,KAAM;AACvB,SAASlB,OAAO,CAACQ,IAAK;AACtB;AACA;AACA,oBAAoBR,OAAO,CAACiB,EAAG;AAC/B;AACA,mBAAmBjB,OAAO,CAACQ,IAAK;AAChC;AACA,sCAAsCR,OAAO,CAACqB,QAAS,KAAIrB,OAAO,CAACqB,QAAS;AAC5E,wCAAwCrB,OAAO,CAACwB,OAAQ,KAAIxB,OAAO,CAACwB,OAAQ;AAC5E;AACA;AACA,CAfE;AAgBD,CAjBD;;AAmBA,MAAMS,qBAAqB,GAAG,UAAUjC,OAAV,EAAmB;AAC/CY,EAAAA,OAAO,CAACC,GAAR,CAAYb,OAAO,CAACyB,KAApB;AAEA,SAAO,CACJ;AACL;AACA,SAASzB,OAAO,CAACkB,KAAM;AACvB;AACA;AACA;AACA,oBAAoBlB,OAAO,CAACiB,EAAG;AAC/B,mBAAmBjB,OAAO,CAACQ,IAAK;AAChC;AACA,sCAAsCR,OAAO,CAACqB,QAAS,KAAIrB,OAAO,CAACqB,QAAS;AAC5E,wCAAwCrB,OAAO,CAACwB,OAAQ,KAAIxB,OAAO,CAACwB,OAAQ;AAC5E;AACA,oBAbS,EAeLxB,OAAO,CAACyB,KAAR,CACGC,GADH,CACQE,IAAD,IAAU;AACb,WAAQ;AAChB,yBAAyBA,IAAI,CAACpB,IAAK;AACnC,yBAAyBoB,IAAI,CAACA,IAAK;AACnC;AACA,CAJQ;AAKD,GAPH,EAQGM,IARH,CAQQ,EARR,CAfK,EAwBJ;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAalC,OAAO,CAACmC,OAAR,CAAgB,CAAhB,CAAmB;AAChC;AACA;AACA;AACA;AACA,aAAanC,OAAO,CAACmC,OAAR,CAAgB,CAAhB,CAAmB;AAChC;AACA;AACA;AACA;AACA,aAAanC,OAAO,CAACmC,OAAR,CAAgB,CAAhB,CAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,CA/CS,EAgDLD,IAhDK,CAgDA,EAhDA,CAAP;AAiDD,CApDD;;AAsDA,MAAME,YAAY,GAAG,gBAAgBnB,EAAhB,EAAoB;AACvC,QAAMkB,OAAO,GAAG,MAAME,kBAAkB,CAACpB,EAAD,CAAxC;AACAlB,EAAAA,SAAS,CAACC,OAAV,CAAkBmC,OAAlB,GAA4BA,OAA5B;AACD,CAHD;;AAKA/B,MAAM,CAACkC,gBAAP,CAAwB,QAAxB,EAAkC,UAAUC,CAAV,EAAa;AAC7CA,EAAAA,CAAC,CAACC,cAAF;AACA5B,EAAAA,OAAO,CAACC,GAAR,CAAYR,SAAS,CAACoC,KAAtB;AACAlC,EAAAA,UAAU,CAACF,SAAS,CAACoC,KAAX,CAAV;AACD,CAJD;;AAMAxC,cAAc,CAACqC,gBAAf,CAAgC,OAAhC,EAAyC,UAAUC,CAAV,EAAa;AACpD,QAAMG,IAAI,GAAGH,CAAC,CAACI,MAAF,CAASC,OAAT,CAAiB,OAAjB,CAAb;AACA,QAAM3B,EAAE,GAAGyB,IAAI,CAACG,OAAL,CAAa5B,EAAxB;AACAmB,EAAAA,YAAY,CAACnB,EAAD,CAAZ,CAHoD,CAIpD;;AACA6B,EAAAA,UAAU,CAAC,MAAM;AACf,UAAMhB,MAAM,GAAGG,qBAAqB,CAAClC,SAAS,CAACC,OAAX,CAApC;;AACAM,IAAAA,cAAc,CAAC0B,kBAAf,CAAkC,YAAlC,EAAgDF,MAAhD;AACD,GAHS,EAGP,IAHO,CAAV;AAID,CATD;;AAWA,MAAMO,kBAAkB,GAAG,gBAAgBpB,EAAhB,EAAoB;AAC7C,QAAMD,IAAI,GAAG,MAAMP,KAAK,CAAE,6CAA4CQ,EAAG,GAAjD,CAAxB;AACA,QAAM8B,OAAO,GAAG,MAAM/B,IAAI,CAACL,IAAL,EAAtB,CAF6C,CAG7C;;AAEA,QAAMqC,KAAK,GAAG,MAAMvC,KAAK,CAACsC,OAAO,CAACE,eAAR,CAAwBC,GAAzB,CAAzB;AACA,QAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACrC,IAAN,EAAvB,CAN6C,CAO7C;;AAEA,QAAMyC,IAAI,GAAGD,QAAQ,CAACE,KAAT,CAAeC,OAAf,CAAuB9C,IAApC;AACA,QAAM+C,IAAI,GAAGJ,QAAQ,CAACE,KAAT,CAAeG,UAAf,CAA0B,CAA1B,EAA6BF,OAA7B,CAAqC9C,IAAlD;AACA,QAAMiD,IAAI,GAAGN,QAAQ,CAACE,KAAT,CAAeG,UAAf,CAA0B,CAA1B,EAA6BA,UAA7B,CAAwC,CAAxC,EAA2CF,OAA3C,CAAmD9C,IAAhE;AAEA,QAAMkD,IAAI,GAAG,MAAMC,aAAa,CAACP,IAAD,EAAOG,IAAP,EAAaE,IAAb,CAAhC,CAb6C,CAe7C;;AAEA,QAAMG,SAAS,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQvC,OAAR,CAAgBC,aAAlC;AACA,QAAMyC,SAAS,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQvC,OAAR,CAAgBC,aAAlC;AACA,QAAM0C,SAAS,GAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAQvC,OAAR,CAAgBC,aAAlC;AAEA,SAAO,CAACwC,SAAD,EAAYC,SAAZ,EAAuBC,SAAvB,CAAP,CArB6C,CAuB7C;AACD,CAxBD,EA0BA;;;AAEA,MAAMC,gBAAgB,GAAG,gBAAgBvD,IAAhB,EAAsB;AAC7C,QAAMR,OAAO,GAAG,MAAMS,KAAK,CAAE,qCAAoCD,IAAK,EAA3C,CAA3B;AACA,QAAME,QAAQ,GAAG,MAAMV,OAAO,CAACW,IAAR,EAAvB;AAEA,SAAOD,QAAP;AACD,CALD;;AAOA,MAAMiD,aAAa,GAAG,gBAAgBK,KAAhB,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqC;AACzD,QAAMlD,IAAI,GAAG,MAAMmD,OAAO,CAACC,GAAR,CAAY,CAC7BL,gBAAgB,CAACC,KAAD,CADa,EAE7BD,gBAAgB,CAACE,KAAD,CAFa,EAG7BF,gBAAgB,CAACG,KAAD,CAHa,CAAZ,CAAnB;AAMA,SAAOlD,IAAP;AACD,CARD;;AAUA,MAAMqD,cAAc,GAAG,kBAAkB;AACvC,QAAMrE,OAAO,GAAG,MAAMS,KAAK,CAAE,oCAAF,CAA3B;AACA,QAAMC,QAAQ,GAAG,MAAMV,OAAO,CAACW,IAAR,EAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,CAJD;;AAMA2D,cAAc","file":"script.d573be0b.js","sourceRoot":"..","sourcesContent":["const pokeState = {\r\n  pokemon: {},\r\n};\r\n\r\nconst _parentElement = document.querySelector(\".pokemon__container\");\r\nconst search = document.querySelector(\".search\");\r\nconst searchKey = document.querySelector(\".searchTerm\");\r\nconst pokemonDetails = document.querySelector(\".pokemon__details\");\r\n//console.log(searchKey);\r\n\r\n//console.log(pokeState);\r\n\r\nconst getPokemon = async function (name) {\r\n  const pokemon = await fetch(`https://pokeapi.co/api/v2/pokemon/${name}`);\r\n  const pokeData = await pokemon.json();\r\n  console.log(pokeData);\r\n\r\n  pokeState.pokemon = createPokemonObject(pokeData);\r\n\r\n  render(pokeState.pokemon);\r\n  console.log(pokeData);\r\n};\r\n\r\nconst createPokemonObject = function (data) {\r\n  const pokemon = data;\r\n  return {\r\n    id: pokemon.id,\r\n    name: pokemon.name,\r\n    image: pokemon.sprites.front_default,\r\n    maintype: pokemon.types[0].type.name,\r\n    subtype: pokemon.types[1] ? pokemon.types[1].type.name : \"\",\r\n    stats: pokemon.stats.map((obj) => {\r\n      let stat = { name: obj.stat.name, stat: obj.base_stat };\r\n      return stat;\r\n    }),\r\n    // pushStats() {\r\n    //   return pokemon.stats.map((obj) => {\r\n    //     let stat = { name: obj.stat.name, stat: obj.base_stat };\r\n    //   });\r\n    // },\r\n  };\r\n};\r\n\r\n//Responsible for fetchin data from API\r\n/*const loadPokemon = async function () {\r\n  try {\r\n    const data = await getPokemon();\r\n    //console.log(data);\r\n\r\n\r\n  } catch (err) {\r\n    //Error handling\r\n    //console.error(`${err} MY ERROR-----`);\r\n    throw err;\r\n  }\r\n};*/\r\n\r\nconst render = function (pokemon) {\r\n  const markup = _generateMarkup(pokemon);\r\n  _parentElement.insertAdjacentHTML(\"afterbegin\", markup);\r\n};\r\n\r\nconst _generateMarkup = function (pokemon) {\r\n  return `\r\n<div class=\"card\" data-id=\"${pokemon.id}\">\r\n<img\r\n  src=\"${pokemon.image}\"\r\n  alt=\"${pokemon.name}\"\r\n  class=\"pokemon__img\"\r\n/>\r\n<span class=\"id\">#${pokemon.id}</span>\r\n\r\n<h2 class=\"name\">${pokemon.name}</h2>\r\n<div class=\"types\">\r\n  <div class=\"type main__type type--${pokemon.maintype}\">${pokemon.maintype}</div>\r\n  <div class=\"type sub__type subtype--${pokemon.subtype}\">${pokemon.subtype}</div>\r\n</div>\r\n</div>\r\n`;\r\n};\r\n\r\nconst _generateMarkupDetail = function (pokemon) {\r\n  console.log(pokemon.stats);\r\n\r\n  return [\r\n    `\r\n  <img\r\n  src=\"${pokemon.image}\"\r\n  alt=\"Charizard\"\r\n  class=\"pokemon__img--detail\"\r\n/>\r\n<span class=\"id\">#${pokemon.id}</span>\r\n<h2 class=\"name\">${pokemon.name}</h2>\r\n<div class=\"types\">\r\n  <div class=\"type main__type type--${pokemon.maintype}\">${pokemon.maintype}</div>\r\n  <div class=\"type sub__type subtype--${pokemon.subtype}\">${pokemon.subtype}</div>\r\n</div>\r\n<div class=\"stats\">`,\r\n\r\n    pokemon.stats\r\n      .map((stat) => {\r\n        return `<div class=\"stat\">\r\n<h4 class=\"type__name\">${stat.name}</h4>\r\n<p class=\"stat__value\">${stat.stat}</p>\r\n</div>\r\n`;\r\n      })\r\n      .join(\"\"),\r\n    `\r\n</div>\r\n<div class=\"evolution\">\r\n  <h3>Evolution chain</h3>\r\n\r\n  <div class=\"evolution__details\">\r\n    <img\r\n      src=\"${pokemon.evoImgs[0]}\"\r\n      alt=\"Charizard\"\r\n      class=\"evo\"\r\n    />\r\n    <img\r\n      src=\"${pokemon.evoImgs[1]}\"\r\n      alt=\"Charizard\"\r\n      class=\"evo\"\r\n    />\r\n    <img\r\n      src=\"${pokemon.evoImgs[2]}\"\r\n      alt=\"Charizard\"\r\n      class=\"evo\"\r\n    />\r\n  </div>\r\n</div>\r\n`,\r\n  ].join(\"\");\r\n};\r\n\r\nconst addEvoImages = async function (id) {\r\n  const evoImgs = await fetchPokemeonForms(id);\r\n  pokeState.pokemon.evoImgs = evoImgs;\r\n};\r\n\r\nsearch.addEventListener(\"submit\", function (e) {\r\n  e.preventDefault();\r\n  console.log(searchKey.value);\r\n  getPokemon(searchKey.value);\r\n});\r\n\r\n_parentElement.addEventListener(\"click\", function (e) {\r\n  const card = e.target.closest(\".card\");\r\n  const id = card.dataset.id;\r\n  addEvoImages(id);\r\n  //console.log(pokeState);\r\n  setTimeout(() => {\r\n    const markup = _generateMarkupDetail(pokeState.pokemon);\r\n    pokemonDetails.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }, 1500);\r\n});\r\n\r\nconst fetchPokemeonForms = async function (id) {\r\n  const data = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${id}/`);\r\n  const datapok = await data.json();\r\n  //console.log(\"Species\", datapok);\r\n\r\n  const data2 = await fetch(datapok.evolution_chain.url);\r\n  const datapok2 = await data2.json();\r\n  //console.log(\"Evolution chain \", datapok2);\r\n\r\n  const evo1 = datapok2.chain.species.name;\r\n  const evo2 = datapok2.chain.evolves_to[0].species.name;\r\n  const evo3 = datapok2.chain.evolves_to[0].evolves_to[0].species.name;\r\n\r\n  const evos = await getEvolutions(evo1, evo2, evo3);\r\n\r\n  // console.log(evos);\r\n\r\n  const evoImage1 = evos[0].sprites.front_default;\r\n  const evoImage2 = evos[1].sprites.front_default;\r\n  const evoImage3 = evos[2].sprites.front_default;\r\n\r\n  return [evoImage1, evoImage2, evoImage3];\r\n\r\n  //.flat(Infinity)\r\n};\r\n\r\n//fetchPokemeonForms();\r\n\r\nconst fetchingDataName = async function (name) {\r\n  const pokemon = await fetch(`https://pokeapi.co/api/v2/pokemon/${name}`);\r\n  const pokeData = await pokemon.json();\r\n\r\n  return pokeData;\r\n};\r\n\r\nconst getEvolutions = async function (name1, name2, name3) {\r\n  const data = await Promise.all([\r\n    fetchingDataName(name1),\r\n    fetchingDataName(name2),\r\n    fetchingDataName(name3),\r\n  ]);\r\n\r\n  return data;\r\n};\r\n\r\nconst getPokemonList = async function () {\r\n  const pokemon = await fetch(`https://pokeapi.co/api/v2/pokemon/`);\r\n  const pokeData = await pokemon.json();\r\n  console.log(pokeData);\r\n};\r\n\r\ngetPokemonList();\r\n"]}